import{u as m,m as h,n as p,o as x,r as l,B as i,j as e}from"./index-44156e21.js";import{u as j}from"./formik.esm-b322b639.js";import{c as k,a as c}from"./index.esm-2fd682e7.js";const A=()=>{const{data:d}=m(),[b,{isSuccess:o,isLoading:f}]=h(),[N,{isSuccess:a,isLoading:g}]=p(),[u,{isSuccess:w,isLoading:P}]=x(),t=j({initialValues:{name:"",desc:"",price:"",stock:"",thumb:""},validationSchema:k({name:c().required("Enter name"),desc:c().required("Enter desc"),price:c().required("Enter price"),stock:c().required("Enter stock"),thumb:c().required("Enter thumb")}),onSubmit:(r,{resetForm:n})=>{const s=new FormData;s.append("name",r.name),s.append("desc",r.desc),s.append("price",r.price),s.append("stock",r.stock),s.append("thumb",r.thumb),b(s),n()}});return l.useEffect(()=>{o&&(i.success("Product Add Success"),window.my_modal_1.close())},[o]),l.useEffect(()=>{a&&i.warn("Product Update Success")},[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-primary mt-10",onClick:()=>window.my_modal_1.showModal(),children:"+ Add Product"}),e.jsx("div",{className:"overflow-y-auto mt-10",children:e.jsxs("table",{class:"table bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"hover:bg-slate-400",children:[e.jsx("th",{className:"text-black text-center border border-black font-bold",children:"NAME"}),e.jsx("th",{className:"text-black text-center border border-black font-bold",children:"DESC"}),e.jsx("th",{className:"text-black text-center border border-black font-bold",children:"PRICE"}),e.jsx("th",{className:"text-black text-center border border-black font-bold",children:"STOCK"}),e.jsx("th",{className:"text-black text-center border border-black font-bold",children:"Thumb IMAGE"}),e.jsx("th",{className:"text-black text-center border border-black font-bold",children:"ACTIONS"})]})}),e.jsx("tbody",{children:d&&d.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-black text-center border border-black font-bold",children:r.name}),e.jsx("td",{className:"text-black text-center border border-black font-bold",children:r.desc}),e.jsx("td",{className:"text-black text-center border border-black font-bold",children:r.price}),e.jsx("td",{className:"text-black text-center border border-black font-bold",children:r.stock}),e.jsx("td",{className:"text-black text-center border border-black font-bold",children:e.jsx("img",{className:"h-[100px] w-full",src:`https://e-com-freshcart.onrender.com/${r.image}`,alt:""})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-warning",children:"Edit"}),e.jsx("button",{onClick:n=>u(r._id),className:"btn btn-error",children:"Delete"})]})]}))})]})}),e.jsx("div",{children:e.jsx("dialog",{id:"my_modal_1",className:"modal",children:e.jsx("div",{className:"modal-box",children:e.jsxs("form",{method:"dialog",onSubmit:t.handleSubmit,children:[e.jsx("pre",{children:JSON.stringify(t.errors,null,2)}),e.jsx("input",{...t.getFieldProps("name"),name:"name",type:"text",placeholder:"Enter Name",className:`input bg-white my-3 input-bordered w-full ${t.errors.name&&t.touched.name&&"input-error"}`}),e.jsx("input",{...t.getFieldProps("desc"),name:"desc",type:"text",placeholder:"Enter Product Description",className:`input bg-white my-3 input-bordered w-full ${t.errors.desc&&t.touched.desc&&"input-error"}`}),e.jsx("input",{...t.getFieldProps("stock"),name:"stock",type:"number",placeholder:"Enter Product Stock",className:`input bg-white my-3 input-bordered w-full ${t.errors.price&&t.touched.price&&"input-error"}`}),e.jsx("input",{...t.getFieldProps("price"),name:"price",type:"number",placeholder:"Enter Price",className:`input bg-white my-3 input-bordered w-full ${t.errors.stock&&t.touched.stock&&"input-error"}`}),e.jsx("input",{onChange:r=>t.setFieldValue("thumb",r.currentTarget.files[0]),name:"thumb",type:"file",placeholder:"Enter Product Image",className:`input bg-white my-3 input-bordered w-full ${t.errors.thumb&&t.touched.thumb&&"input-error"}`}),e.jsx("button",{className:"btn btn-primary",children:"Add Product"}),e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"})]})})})})]})})};export{A as default};
