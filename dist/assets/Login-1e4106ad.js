import{c as f,e as x,f as h,r as t,B as c,j as e}from"./index-44156e21.js";import{u as g}from"./formik.esm-b322b639.js";import{c as b,a as d}from"./index.esm-2fd682e7.js";const N=()=>{const{user:r}=f(i=>i.auth),a=x(),[m,{isSuccess:o,isError:n,error:u,isLoading:l}]=h(),s=g({initialValues:{email:"",password:""},validationSchema:b({email:d().email().required("Enter Email"),password:d().required("Enter Password")}),onSubmit:(i,{resetForm:p})=>{m(i),p()}});return t.useEffect(()=>{o&&(r.role==="admin"?(c.success("Login Success"),a("/admin")):r.role==="customer"&&a("/"))},[o]),t.useEffect(()=>{n&&c.error(u.message||"Unable to Login User")},[n]),t.useEffect(()=>{r&&(r.role==="admin"?a("/admin"):r.role==="customer"&&a("/"))},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-screen flex justify-center items-center",children:e.jsx("div",{className:"card card-compact w-96 bg-gray-800 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"text-xl font-bold text-center",children:"Login User"}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx("input",{...s.getFieldProps("email"),type:"email",name:"email",placeholder:"Enter Email",className:`input input-bordered w-full my-3 ${s.errors.email&&s.touched.email&&"input-error"}`}),e.jsx("input",{...s.getFieldProps("password"),type:"password",name:"password",placeholder:"Enter Password",className:`input input-bordered w-full my-3 ${s.errors.password&&s.touched.password&&"input-error"}`}),e.jsx("button",{disabled:l,type:"submit",className:"btn btn-success w-full",children:l?e.jsxs("div",{children:[" ",e.jsx("span",{className:"loading loading-spinner loading-md text-white"}),e.jsx("span",{className:"text-white font-semibold",children:"Verifying Please Wait..."})]}):e.jsx("span",{className:"font-bold",children:"Login"})})]})]})})})})};export{N as default};
